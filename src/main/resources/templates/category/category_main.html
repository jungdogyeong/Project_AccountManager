<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>가계부 카테고리</title>
    <style>
        body {
          margin: 0;
          font-family: sans-serif;
          background: #f9f9f9;
        }

        /* 상단 바 */
        .top-bar {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 12px 16px;
          background-color: #ffffff;
          border-bottom: 1px solid #ddd;
          position: sticky;
          top: 0;
        }

        .top-bar button {
          background: none;
          border: none;
          font-size: 18px;
          cursor: pointer;
        }

        .top-bar h1 {
          margin: 0;
          font-size: 18px;
          font-weight: bold;
        }

        /* 카테고리 영역 */
        .categories {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 16px;
          padding: 16px;
        }

        .category {
          text-align: center;
          cursor: default; /* 기본은 클릭 불가 */
        }

        .category-icon {
          width: 60px;
          height: 60px;
          border-radius: 50%;
          background: #e0e0e0;
          display: flex;
          align-items: center;
          justify-content: center;
          margin: 0 auto 8px;
          font-size: 24px;
        }

        /* 편집 모드일 때만 클릭 가능 */
        .category.editable {
          cursor: pointer;
        }

        /* 플러스 버튼 */
        .add-btn {
          position: fixed;
          bottom: 20px;
          right: 20px;
          width: 56px;
          height: 56px;
          border-radius: 50%;
          background: #007bff;
          color: #fff;
          border: none;
          font-size: 28px;
          cursor: pointer;
          display: none;
        }

        .add-btn.show {
          display: block;
        }
    </style>
</head>
<body>
<!-- 상단 바 -->
<div class="top-bar">
    <button id="backBtn">&lt;</button>
    <h1>카테고리</h1>
    <button id="editBtn">편집</button>
</div>

<!-- 카테고리 목록 -->
<div class="categories" id="categoryList">
    <div class="category" data-name="식비">
        <div class="category-icon">🍚</div>
        <div>식비</div>
    </div>
    <div class="category" data-name="교통비">
        <div class="category-icon">🚌</div>
        <div>교통비</div>
    </div>
    <div class="category" data-name="쇼핑">
        <div class="category-icon">🛍️</div>
        <div>쇼핑</div>
    </div>
    <div class="category" data-name="문화생활">
        <div class="category-icon">🎬</div>
        <div>문화생활</div>
    </div>
    <div class="category" data-name="여행">
        <div class="category-icon">✈️</div>
        <div>여행</div>
    </div>
    <div class="category" data-name="통신비">
        <div class="category-icon">📱</div>
        <div>통신비</div>
    </div>
    <div class="category" data-name="주거비">
        <div class="category-icon">🏠</div>
        <div>주거비</div>
    </div>
    <div class="category" data-name="의료비">
        <div class="category-icon">💊</div>
        <div>의료비</div>
    </div>
    <div class="category" data-name="교육비">
        <div class="category-icon">📚</div>
        <div>교육비</div>
    </div>
    <div class="category" data-name="기타">
        <div class="category-icon">✨</div>
        <div>기타</div>
    </div>
</div>

<!-- 플러스 버튼 -->
<button class="add-btn" id="addBtn">+</button>

<script>
    const editBtn = document.getElementById("editBtn");
    const addBtn = document.getElementById("addBtn");
    const categories = document.querySelectorAll(".category");
    let isEditMode = false;

    // 편집 버튼 클릭
    editBtn.addEventListener("click", () => {
      isEditMode = !isEditMode;
      editBtn.textContent = isEditMode ? "완료" : "편집";
      addBtn.classList.toggle("show", isEditMode);

      // 카테고리 클릭 가능 여부 변경
      categories.forEach(cat => {
        if (isEditMode) {
          cat.classList.add("editable");
        } else {
          cat.classList.remove("editable");
        }
      });
    });

    // 카테고리 클릭 (편집 모드일 때만 이동)
    categories.forEach(category => {
      category.addEventListener("click", () => {
        if (isEditMode) {
          const name = category.getAttribute("data-name");
          location.href = "edit.html?category=" + encodeURIComponent(name);
        }
      });
    });

    // 추가 버튼 클릭
    addBtn.addEventListener("click", () => {
      location.href = "add.html";
    });

    // 뒤로가기 버튼
    document.getElementById("backBtn").addEventListener("click", () => {
      history.back();
    });
</script>
</body>
</html>
