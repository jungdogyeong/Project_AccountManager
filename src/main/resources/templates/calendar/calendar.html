<!doctype html>
<html lang="ko">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>모바일 캘린더</title>
    <style>
        :root{
          --accent:#d32f2f;
          --box:#f7f7f7;
        }
        body{
          margin:10px;
          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans KR", sans-serif;
          background:#fff;
          color:#111;
        }

        .card{
          max-width:100%;
          border:3px solid #111;
          border-radius:8px;
          padding:8px;
          background:#fff;
        }

        /* 상단 헤더 */
        .header{
          display:flex;
          align-items:center;
          justify-content:space-between;
          margin-bottom:8px;
        }
        .menu-icon{
          width:8vw; height:8vw; border:2px solid #222; border-radius:4px;
          display:flex; align-items:center; justify-content:center;
          font-weight:700; font-size:5vw;
        }
        .month-nav{
          display:flex; align-items:center; gap:6px;
          font-size:5vw; font-weight:700;
        }
        .month-nav button{
          border:2px solid #222; background:white; padding:2px 6px;
          border-radius:6px; cursor:pointer; font-size:5vw; font-weight:700;
        }
        .totals{
          text-align:right; font-size:3.5vw; line-height:1.4;
        }
        .totals .minus{color:#111;}
        .totals .plus{color:green;}

        /* 요일 헤더 */
        .weekdays{
          display:grid;
          grid-template-columns:repeat(7,1fr);
          text-align:center;
          font-weight:700;
          font-size:3.5vw;
          padding:4px 0;
          border-top:2px solid #111;
          border-bottom:2px solid #111;
          margin-bottom:4px;
        }

        /* 달력 그리드 */
        .grid{
          display:grid;
          grid-template-columns:repeat(7,1fr);
          gap:2px;
          margin-bottom:6px;
        }
        .cell{
          width:13vw;
          height:12vw; /* 세로가 더 짧게 */
          border:2px solid #111;
          border-radius:4px;
          padding:2px;
          position:relative;
          background:#fff;
          box-sizing:border-box;
        }
        .daynum{
          font-weight:700;
          font-size:3vw;
        }
        .note{
          position:absolute; right:2px; top:22%;
          font-size:2.6vw; font-weight:700;
          background:#fff; padding:1px 2px; border-radius:4px; border:1px dashed #aaa;
        }

        /* 하단 상세 */
        .detail{
          border-top:2px solid #111;
          padding-top:6px;
          display:flex; justify-content:space-between;
          gap:6px;
          margin-top:6px;
        }
        .detail-left{flex:1;}
        .selected-date{
          font-size:4.2vw; font-weight:700; margin-bottom:6px;
        }
        .items{display:flex; flex-direction:column; gap:4px;}
        .item{
          background:var(--box);
          border:2px solid #111;
          padding:6px;
          border-radius:6px;
          display:flex;
          justify-content:space-between;
          font-size:3.5vw;
        }
        .add-btn{
          width:12vw; height:12vw; border-radius:50%;
          border:3px solid var(--accent);
          display:flex; align-items:center; justify-content:center;
          font-size:6vw; font-weight:900; color:var(--accent);
        }
    </style>
</head>
<body>

<div class="card">
    <!-- 상단 -->
    <div class="header">
        <div style="display:flex;align-items:center;gap:6px;">
            <div class="menu-icon">≡</div>
            <div class="month-nav">
                <button id="prev">‹</button>
                <div id="monthLabel">9월</div>
                <button id="next">›</button>
            </div>
        </div>
        <div class="totals">
            <div style="font-size:3vw;color:#666">total</div>
            <div class="minus">-275,000</div>
            <div class="plus">+800,000</div>
        </div>
    </div>

    <!-- 요일 -->
    <div class="weekdays">
        <div>SUN</div><div>MON</div><div>TUE</div><div>WED</div><div>THU</div><div>FRI</div><div>SAT</div>
    </div>

    <!-- 달력 -->
    <div class="grid" id="calendarGrid"></div>

    <!-- 상세 -->
    <div class="detail">
        <div class="detail-left">
            <div class="selected-date" id="selectedDate">9월 10일</div>
            <div class="items" id="itemsList">
                <div class="item"><div>교통비</div><div>-2,500원</div></div>
                <div class="item"><div>식비</div><div>-75,000원</div></div>
            </div>
        </div>
        <a href="/add.html" class="add-btn">＋</a>

    </div>
</div>

<script>
    const sampleData = {
      "2025-09-06": [{title:"수입", price:"+38,500"},{title:"수수료", price:"+3,000"}],
      "2025-09-10": [
        {title:"교통비", price:"-2,500원"},
        {title:"식비", price:"-75,000원"}
      ]
    };

    const grid = document.getElementById('calendarGrid');
    function renderCalendar(year=2025, month=8){
      grid.innerHTML='';
      const daysInMonth=30;
      for(let i=1;i<=35;i++){
        const cell=document.createElement('div');
        cell.className='cell';
        const dayNum=document.createElement('div');
        dayNum.className='daynum';
        if(i<=daysInMonth){
          dayNum.textContent=i;
          const key=`${year}-${String(month+1).padStart(2,'0')}-${String(i).padStart(2,'0')}`;
          cell.dataset.day=key;
          if(sampleData[key]){
            sampleData[key].forEach((entry,idx)=>{
              const note=document.createElement('div');
              note.className='note';
              note.style.top=`${25+idx*22}%`;
              note.textContent=entry.price;
              cell.appendChild(note);
            });
          }
          cell.addEventListener('click',()=>selectDay(key));
        }
        cell.appendChild(dayNum);
        grid.appendChild(cell);
      }
    }

    function selectDay(key){
      const label=document.getElementById('selectedDate');
      const list=document.getElementById('itemsList');
      if(!key){label.textContent='선택 없음';list.innerHTML='';return;}
      const [y,m,d]=key.split('-');
      label.textContent=`${Number(m)}월 ${Number(d)}일`;
      list.innerHTML='';
      const entries=sampleData[key]||[];
      if(entries.length===0){
        list.innerHTML='<div class="item"><div>항목 없음</div><div>0원</div></div>';
        return;
      }
      entries.forEach(e=>{
        const it=document.createElement('div');
        it.className='item';
        it.innerHTML=`<div>${e.title}</div><div>${e.price}</div>`;
        list.appendChild(it);
      });
    }

    renderCalendar();
    window.addEventListener('load',()=>selectDay('2025-09-10'));
</script>

</body>
</html>
